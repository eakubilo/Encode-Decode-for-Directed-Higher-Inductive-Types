\documentclass[main.tex]{subfiles}

\begin{document}
Another aspect of sHoTT is the extension type. It is syntax allowing terms depending on shapes to act, on shape inclusions, specific terms.
This is an important feature that allows us to define other types down the line.

\begin{lemma}
    \label{lem:exten_curry}
    If $t : I \mid \phi \vdash \psi$ and $s : J \mid \chi \vdash \zeta$, while
    \begin{equation*}
    X : \{ t : I \mid \psi\} \to \{ s : J \mid \zeta \} \to \U
    \end{equation*}
    and $f:\prd{\langle t,s \rangle : I \times J \mid (\phi \land \zeta) \lor (\psi \land \chi)}X(t,s),$ then
    \begin{align*}
        &\exten{t:I\mid\psi}{\exten{s : J \mid \zeta}{X(t,s)}{\chi}{\lam{s}f\langle t,s \rangle}}{\phi}{\lam{t}f\langle t,s \rangle} \\
        &\qquad\qquad\simeq \exten{\langle t,s \rangle : I \times J \mid \psi \land \zeta}{X(t,s)}{(\phi \land \zeta) \lor (\psi \land \chi)}{f} \\
        &\qquad\qquad\simeq \exten{s : J \mid \zeta}{\exten{t : I \mid \psi}{X(t,s)}{\phi}{\lam{s}f\langle t,s \rangle}}{\chi}{\lam{s}{t}f\langle t s \rangle}
    \end{align*}
\end{lemma}
\end{document}